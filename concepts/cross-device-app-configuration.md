---
title: 'Project Rome を利用したクロスデバイス アプリのビルド '
description: 'Project Rome を使用することにより、デバイスやプラットフォームをシームレスに超えて利用できるエクスペリエンスを構築できます。これにより、ユーザーのストレスが少なくなり、アプリの利用が推進されます。 アプリケーションが Project Rome API を利用して複数のデバイスやプラットフォーム間でデータを共有するには、プラットフォーム固有のアプリに関する情報を含むクロスデバイス アプリを構成する必要があります。 '
localization_priority: Normal
ms.prod: project-rome
ms.openlocfilehash: f54f38c5d047d2b5d790e5bea48fdb27f54b4004
ms.sourcegitcommit: 0ce657622f42c510a104156a96bf1f1f040bc1cd
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/24/2019
ms.locfileid: "32570356"
---
# <a name="build-cross-device-apps-powered-by-project-rome"></a><span data-ttu-id="c33cf-104">Project Rome を利用したクロスデバイス アプリのビルド</span><span class="sxs-lookup"><span data-stu-id="c33cf-104">Build cross-device apps powered by Project Rome</span></span> 

<span data-ttu-id="c33cf-105">Project Rome を使用することにより、デバイスやプラットフォームをシームレスに超えて利用できるエクスペリエンスを構築できます。これにより、ユーザーのストレスが少なくなり、アプリの利用が推進されます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-105">You can use Project Rome to build experiences that cross devices and platforms seamlessly, reducing friction for users and helping to drive app engagement.</span></span> <span data-ttu-id="c33cf-106">アプリケーションが Project Rome API を利用して複数のデバイスやプラットフォーム間でデータを共有するには、プラットフォーム固有のアプリに関する情報を含むクロスデバイス アプリを構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-106">For applications to share data across devices and platforms using Project Rome APIs, you need to configure a cross-device app that includes information about your platform-specific apps.</span></span> 

<span data-ttu-id="c33cf-107">クロスデバイス アプリでは、次のことが可能です:</span><span class="sxs-lookup"><span data-stu-id="c33cf-107">A cross-device app enables you to:</span></span> 

- <span data-ttu-id="c33cf-108">Microsoft Graph で Project Rome のアクティビティ フィード API を利用する。</span><span class="sxs-lookup"><span data-stu-id="c33cf-108">Use the Project Rome activity feed API in Microsoft Graph.</span></span>  
- <span data-ttu-id="c33cf-109">Project Rome SDK for Windows、Android、iOS を使用することにより、複数のプラットフォーム固有アプリケーションからなるグループによって公開されるユーザー アクティビティを読み書きする。</span><span class="sxs-lookup"><span data-stu-id="c33cf-109">Read and  write user activities published by a group of platform-specific applications by using the Project Rome SDK for Windows, Android, and/or iOS.</span></span>
-  <span data-ttu-id="c33cf-110">Project Rome SDK for Android または iOS を使用することによって、Project Rome のデバイス リレー機能でアプリのターゲットを切り替える。</span><span class="sxs-lookup"><span data-stu-id="c33cf-110">Target apps via the device relay capabilities in Project Rome by using the Project Rome SDK for Android or iOS.</span></span>

<span data-ttu-id="c33cf-111">**アクティビティ フィード API により、デバイス間を移動した際に直前の作業位置から再開する**</span><span class="sxs-lookup"><span data-stu-id="c33cf-111">**Pick up where you left off across devices with the activity feed API**</span></span>

<span data-ttu-id="c33cf-112">Windows、iOS、Android、Web 用のアプリを関連付けるようクロスデバイス アプリを構成することにより、各プラットフォームのアプリで、グループ内の任意のアプリにより公開されたユーザー アクティビティを読み書きできます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-112">You can configure a cross-device app to associate your apps for Windows, iOS, Android, and the web so that the app on each platform can read and write user activities that are published by any app in the group.</span></span> 

<span data-ttu-id="c33cf-113">たとえば、あるユーザーが仕事場にある自分の PC でプレス リリースを仕上げた後、友達と夕食を食べに行ったとします。</span><span class="sxs-lookup"><span data-stu-id="c33cf-113">For example, a user is finishing up a press release on her PC at work before dinner with friends.</span></span> <span data-ttu-id="c33cf-114">レストランで上司から彼女に連絡があり、大至急誤字を修正するように命じられます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-114">At the restaurant, she gets a notification from her boss about a typo that needs to be fixed asap.</span></span> <span data-ttu-id="c33cf-115">彼女は、自分の Android スマートフォンでアプリを開き、先ほど編集していたプレス リリースを示すカードを表示します。</span><span class="sxs-lookup"><span data-stu-id="c33cf-115">She opens the app on her Android phone and sees a card showing the press release she was editing earlier.</span></span> <span data-ttu-id="c33cf-116">彼女は、そのカードをタップしてそれを開き、必要な修正をプレス リリースに加えた後、友達との会話に戻ります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-116">She taps the card to open it so she can fix the release immediately and get back to her friends.</span></span> 
 
<span data-ttu-id="c33cf-117">このクロスデバイス アプリ構成を整備することにより、ユーザーのアクティビティ フィードが複数のデバイスやプラットフォームの間でとても簡単に同期されるため、ユーザーがアプリのどの面からでも、重要な作業を直前に終わったところから再開できるようなエクスペリエンスを構築できます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-117">With this cross-device app configuration in place, the user's activity feed is synchronized across devices and platforms effortlessly so you can build experiences that help users pick up important tasks where they left off from any app surface.</span></span> 

<span data-ttu-id="c33cf-118">**デバイス リレー API により適切なタイミングで適切な画面を選ぶ**</span><span class="sxs-lookup"><span data-stu-id="c33cf-118">**Choose the right screen at the right time with the device relay API**</span></span>

<span data-ttu-id="c33cf-119">アプリが利用可能なそれぞれのプラットフォームでプッシュ通知認証情報が有効になるようクロスデバイス アプリを構成することにより、プラットフォームに関係なく、アプリを使用する任意のデバイスにコマンドまたは通知が配信されるようにすることができます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-119">You can configure a cross-device app with push notification credentials for each of the platforms your app is available on so that a command or notification can be delivered to you on any device where you use the app, regardless of platform.</span></span> 

<span data-ttu-id="c33cf-120">たとえば、あるユーザーが仕事帰りのバスの中でビデオを見ているとします。</span><span class="sxs-lookup"><span data-stu-id="c33cf-120">For example, a user is watching a video on the bus ride home from work.</span></span> <span data-ttu-id="c33cf-121">彼女が自宅に着いて、アプリをタップして Xbox One でそのビデオを起動すると、先ほどの続きを大画面で見ることができます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-121">When she arrives home, she taps the app to launch the video on her Xbox One so she can continue watching on the big screen.</span></span> 

<span data-ttu-id="c33cf-122">アプリが利用可能な各プラットフォームでプッシュ通知認証情報をクロスデバイス アプリに関連付けると、ユーザーのアプリがデバイス間でコマンドを送信できるようになります。これにより、リアルタイムに複数の画面の間を移動したり、別のデバイスにワークフローを移行したりするようなエクスペリエンスを構築できます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-122">When you associate push notification credentials for each of the platforms where your app is available with your cross-device app, the user's app can send commands across devices, so you can build experiences that cross multiple screens or transition a workflow from one device to another in real time.</span></span> 

## <a name="select-the-right-hosting-method-for-your-cross-device-app-configuration"></a><span data-ttu-id="c33cf-123">クロスデバイス アプリ構成のための適切なホスティング方式を選択する</span><span class="sxs-lookup"><span data-stu-id="c33cf-123">Select the right hosting method for your cross-device app configuration</span></span>
<span data-ttu-id="c33cf-124">クロスデバイス アプリ構成は、ドメイン上の JSON ファイルとして、または [Windows デベロッパー センター](https://developer.microsoft.com/en-us/windows)により構成可能なプロファイルとしてホスティングできます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-124">You can host your cross-device app configuration either as a JSON file on your domain or as a profile configurable via the [Windows Dev Center](https://developer.microsoft.com/en-us/windows).</span></span> <span data-ttu-id="c33cf-125">ホスティング オプションは、アプリで有効にする Project Rome 機能に基づいて選択します。</span><span class="sxs-lookup"><span data-stu-id="c33cf-125">Choose a hosting option based on the Project Rome capabilities you want to enable in your apps.</span></span> 

### <a name="windows-dev-center-profile-recommended"></a><span data-ttu-id="c33cf-126">Windows デベロッパー センターのプロファイル (推奨)</span><span class="sxs-lookup"><span data-stu-id="c33cf-126">Windows Dev Center profile (recommended)</span></span> 
<span data-ttu-id="c33cf-127">Project Rome のすべて機能は、[Windows デベロッパー センター](https://developer.microsoft.com/en-us/windows)で管理されるクロスデバイス アプリを使用してアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-127">You can access all Project Rome capabilities using a cross-device app managed in the [Windows Dev Center](https://developer.microsoft.com/en-us/windows).</span></span> <span data-ttu-id="c33cf-128">また、Windows デベロッパー センターにより、クロスデバイス アプリ構成のあらゆる変更を管理するための*最善の*手段が提供されます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-128">The Windows Dev Center also offers the *best* way to manage any cross-device app configuration changes.</span></span> <span data-ttu-id="c33cf-129">変更内容を運用環境に公開する準備ができるまで、既存のプロファイルの更新内容を安全に保存できます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-129">You can save updates to an existing profile more securely until you're ready to publish changes to production.</span></span> <span data-ttu-id="c33cf-130">デベロッパー センターで既存のクロスデバイス アプリの変更内容を公開すると、新しいプロファイルは、約 **1 時間**後に有効になります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-130">When you publish changes to an existing cross-device app in the Dev Center, the new profile will be effective after approximately **one hour**.</span></span>  

### <a name="externally-hosted-json-file-limited"></a><span data-ttu-id="c33cf-131">外部ホスティングの JSON ファイル (制限あり)</span><span class="sxs-lookup"><span data-stu-id="c33cf-131">Externally hosted JSON file (limited)</span></span> 
<span data-ttu-id="c33cf-132">外部ホスティングされる JSON ファイルとして管理されるクロスデバイス アプリを使用することにより、サポートされるすべてのプラットフォーム上で、次の Project Rome 機能を使用することができます:</span><span class="sxs-lookup"><span data-stu-id="c33cf-132">You can use the following Project Rome capabilities on all supported platforms using a cross-device app managed as an externally hosted JSON file:</span></span>  

* <span data-ttu-id="c33cf-133">[アクティビティ フィード API](/graph/api/resources/activity-feed-api-overview?view=graph-rest-1.0) を使用してすべてのプラットフォームからユーザー アクティビティを読み書きする</span><span class="sxs-lookup"><span data-stu-id="c33cf-133">Read and write user activities from all platforms using the [activity feed API](/graph/api/resources/activity-feed-api-overview?view=graph-rest-1.0)</span></span>
* <span data-ttu-id="c33cf-134">Project Rome SDK を使用してすべてのプラットフォーム (Windows、iOS、Android、web) からユーザー アクティビティを書き込む。</span><span class="sxs-lookup"><span data-stu-id="c33cf-134">Write user activities from all platforms (Windows, iOS, Android, web) using the Project Rome SDKs.</span></span>

<span data-ttu-id="c33cf-135">それらの機能に**のみ**アクセスする場合、クロスデバイス アプリ構成は、ドメイン上で JSON ファイルとして外部的にホスティングできます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-135">If you **only** access these capabilities, you can host your cross-device app configuration externally on your domain as a JSON file.</span></span>

## <a name="configure-a-cross-device-app-using-the-windows-dev-center"></a><span data-ttu-id="c33cf-136">Windows デベロッパー センターを使用してクロスデバイス アプリを構成する</span><span class="sxs-lookup"><span data-stu-id="c33cf-136">Configure a cross-device app using the Windows Dev Center</span></span>
<span data-ttu-id="c33cf-137">クロスデバイス アプリ ID は、自分の所有するドメインとして表されます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-137">A cross-device app ID is represented as a domain that you own.</span></span> <span data-ttu-id="c33cf-138">そのドメインは、自分のドメイン上でホスティングされる JSON ファイルとして、または Windows デベロッパー センターにより構成可能なものとして保存されているプラットフォーム固有のアプリ ID のマッピングを指します。</span><span class="sxs-lookup"><span data-stu-id="c33cf-138">The domain points to a mapping of your platform-specific app IDs stored either as a JSON file hosted on your domain or configurable via the Windows Dev Center.</span></span> <span data-ttu-id="c33cf-139">クロスデバイス アプリ ID を表すために使用するドメインを特定したら、次に、関連するプロファイルを構成するための情報を収集する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-139">After you identify the domain you'll use to represent your cross-device app ID, you'll need to collect information to configure the associated profile.</span></span> 

### <a name="step-1-select-a-secure-domain-for-your-cross-device-app-id-and-enable-domain-verification"></a><span data-ttu-id="c33cf-140">手順 1: クロスデバイス アプリ ID のためのセキュリティ保護されたドメインを選択し、ドメイン検証を有効にする</span><span class="sxs-lookup"><span data-stu-id="c33cf-140">Step 1: Select a secure domain for your cross-device app ID and enable domain verification</span></span>
<span data-ttu-id="c33cf-141">クロスデバイス アプリ ID として使用されるドメインは、トップレベルのドメインかサブドメインで、TLS で保護されていなければなりません。</span><span class="sxs-lookup"><span data-stu-id="c33cf-141">The domain used as your cross-device app ID must either be a top-level domain or a subdomain and must be protected via TLS.</span></span> <span data-ttu-id="c33cf-142">例: https://contoso.com または https://myapp.contoso.com。しかし、https://myapp.contoso.com/somepath は無効です。</span><span class="sxs-lookup"><span data-stu-id="c33cf-142">For example: https://contoso.com or https://myapp.contoso.com, but NOT https://myapp.contoso.com/somepath.</span></span> <span data-ttu-id="c33cf-143">**ドメイン (またはサブドメイン) はクロスデバイス アプリごとに固有でなければなりません。**</span><span class="sxs-lookup"><span data-stu-id="c33cf-143">**You must have a unique domain (or subdomain) per cross-device app.**</span></span> <span data-ttu-id="c33cf-144">しかし、単一のクロスデバイス アプリにどのアプリを関連付けるかは、サポートする予定のクロスプラットフォームの動作に基づいて自分で決定します。</span><span class="sxs-lookup"><span data-stu-id="c33cf-144">However, you decide which apps to associate with a single cross-device app based on the cross-platform behavior you want to support.</span></span> 

<span data-ttu-id="c33cf-145">たとえば、一連のゲーム アプリを手がけるアプリ開発者は、アプリごとに別個のサブドメインを使い分けることにより、複数のデバイスやプラットフォームでデータを読んで再開可能なユーザー アクティビティにのみ確実に各アプリがサブスクライブされるようにするかもしれません。</span><span class="sxs-lookup"><span data-stu-id="c33cf-145">For example, an app developer with a suite of game apps might use a separate subdomain for each of these to ensure that each app is only subscribed to the user activities it can resume when reading data across devices and platforms.</span></span> <span data-ttu-id="c33cf-146">一方、連携動作するよう設計された一連の生産性アプリ スイートを手がけるアプリ開発者は、そのすべてに共通の単一のドメインを使用することにより、デバイスが変わってもアプリでスイートのメンバーを立ち上げることができるようにするかもしれません。</span><span class="sxs-lookup"><span data-stu-id="c33cf-146">On the other hand, an app developer with a suite of productivity apps designed to work together might use a single domain for all of these so that any app is able to launch a member of the suite across devices.</span></span>  

#### <a name="assert-domain-ownership-with-the-windows-dev-center"></a><span data-ttu-id="c33cf-147">Windows デベロッパー センターによるドメインの所有権のアサート</span><span class="sxs-lookup"><span data-stu-id="c33cf-147">Assert domain ownership with the Windows Dev Center</span></span>
<span data-ttu-id="c33cf-148">Windows デベロッパー センターを使用してクロスデバイス アプリの構成を管理すると、クロスデバイス アプリ ID を表すドメインはクロスデバイス アプリ プロファイルの一部として保存されるため、Microsoft はドメイン所有者を確認することができます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-148">When using the Windows Dev Center to manage your cross-device app configuration, the domain representing your cross-device app ID is stored as part of your cross-device app profile so Microsoft can verify that you are the domain owner.</span></span> <span data-ttu-id="c33cf-149">クロスデバイス アプリ構成を公開するには、ドメインの所有者であることが**検証されなければなりません**。そのため、最初にこれに取り組むのは良いことです。</span><span class="sxs-lookup"><span data-stu-id="c33cf-149">Your domain ownership **must be verified** in order to finish publishing your cross-device app configuration, so it's a good idea to tackle this first.</span></span><span data-ttu-id="c33cf-150">ドメインがまだ検証されていない場合、クロスデバイス アプリの詳細を保存し、この手順の完了後に再度検証を実行することにより、クロスデバイス アプリを公開できるようになります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-150"> If your domain is not yet verified, you can save your cross-device app details and rerun the verification after you complete this step so you can publish your cross-device app.</span></span>

<span data-ttu-id="c33cf-151">クロスデバイス アプリのドメイン所有権を主張するには、デベロッパー センターで提供される固有の値を使って、そのドメインに対応する [DNS TXT](https://go.microsoft.com/fwlink/?linkid=871417) エントリを追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-151">To assert your domain ownership for your cross-device app, you'll need to add a [DNS TXT](https://go.microsoft.com/fwlink/?linkid=871417) entry for your domain with a unique value provided to you in the Dev Center.</span></span> <span data-ttu-id="c33cf-152">この値は、クロスデバイス アプリごとに固有です。</span><span class="sxs-lookup"><span data-stu-id="c33cf-152">This value is unique per cross-device app.</span></span> <span data-ttu-id="c33cf-153">アプリのための固有の値を調べるには、Windows デベロッパー センターにサインインし、左側のメニューから **[クロスデバイス エクスペリエンス]** を選択して、新しいクロスデバイス アプリの構成を開始します。</span><span class="sxs-lookup"><span data-stu-id="c33cf-153">To find the unique value for your app, sign in to the Windows Dev Center and choose **Cross-device experiences** from the left menu to start configuring a new cross-device app.</span></span> <span data-ttu-id="c33cf-154">新しいクロスデバイス アプリに名前を付けた後、サブメニューから **[クロスデバイス アプリのドメインを検証する]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="c33cf-154">After you give your new cross-device app a name, select **Verify your cross-device app domain** from the submenu.</span></span> <span data-ttu-id="c33cf-155">このページには、固有の値が **インラインで**表示された手順が示されます (例: MS=95ff4557-813f-45a5-b2f6-1f94170b979f)。</span><span class="sxs-lookup"><span data-stu-id="c33cf-155">This page will display instructions with a unique value **inline** (for example, MS=95ff4557-813f-45a5-b2f6-1f94170b979f).</span></span> <span data-ttu-id="c33cf-156">'MS=' の部分も含めた値全体をコピーしてください。</span><span class="sxs-lookup"><span data-stu-id="c33cf-156">Make sure to copy the entire value including 'MS='.</span></span>

### <a name="step-2-collect-your-platform-specific-application-ids"></a><span data-ttu-id="c33cf-157">手順 2: プラットフォーム固有のアプリケーション ID を収集する</span><span class="sxs-lookup"><span data-stu-id="c33cf-157">Step 2: Collect your platform-specific application IDs</span></span>
<span data-ttu-id="c33cf-158">[Project Rome API](/graph/api/resources/project-rome-overview?view=graph-rest-1.0) を使用する、各アプリケーションおよびプラットフォームのプラットフォーム固有アプリケーション ID を収集します。</span><span class="sxs-lookup"><span data-stu-id="c33cf-158">Collect the platform-specific application IDs for each application and platform that will use [Project Rome APIs](/graph/api/resources/project-rome-overview?view=graph-rest-1.0).</span></span>

<span data-ttu-id="c33cf-159">クロスデバイス アプリ ID に関連付けるため、それぞれのプラットフォーム固有のアプリケーション ID を収集する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-159">You'll need to collect each of the platform-specific application IDs in order to associate them with your cross-device app identity.</span></span> <span data-ttu-id="c33cf-160">Windows デベロッパー センターを使用すると、デベロッパー アカウントに関連するユニバーサル Windows プラットフォーム アプリの中から選択することができます。しかし、win32、iOS、Android のアプリについては、アプリケーション ID を手動で指定し、関連する Web アプリの主要 URL を特定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-160">Using the Windows Dev Center, you'll be able to select from Universal Windows Platform apps associated with your developer account, but you'll need to manually provide application IDs for any of your win32, iOS, or Android apps and identify the primary URL for any associated web apps.</span></span> <span data-ttu-id="c33cf-161">プラットフォームごとに最大 10 個の ID を関連付けることができます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-161">You can associate up to 10 IDs per platform.</span></span> 

<span data-ttu-id="c33cf-162">ID を検索するには:</span><span class="sxs-lookup"><span data-stu-id="c33cf-162">To find the IDs:</span></span>

* <span data-ttu-id="c33cf-163">**windows_universal** - UWP アプリごとに 1 つの AUMID を提供します。</span><span class="sxs-lookup"><span data-stu-id="c33cf-163">**windows_universal** - Provide an AUMID for each UWP app.</span></span> <span data-ttu-id="c33cf-164">詳細については、「[インストール済みアプリのアプリケーション ユーザー モデル ID を検索する (Industry 8.1)](https://docs.microsoft.com/en-us/previous-versions/windows/embedded/dn449300(v=winembedded.82))」および「[アプリケーション](https://docs.microsoft.com/en-US/uwp/schemas/appxpackage/appxmanifestschema/element-application)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c33cf-164">For details, see [Find the Application User Model ID of an installed app (Industry 8.1)](https://docs.microsoft.com/en-us/previous-versions/windows/embedded/dn449300(v=winembedded.82)) and [Application](https://docs.microsoft.com/en-US/uwp/schemas/appxpackage/appxmanifestschema/element-application).</span></span>
* <span data-ttu-id="c33cf-165">**windows_win32** - アプリごとに 1 つの AUMID を提供します。</span><span class="sxs-lookup"><span data-stu-id="c33cf-165">**windows_win32** - Provide an AUMID for each app.</span></span> <span data-ttu-id="c33cf-166">win32 アプリの場合、この情報を取得するにはスクリプトを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-166">For win32 apps, you'll need to use a script to retrieve this information.</span></span> <span data-ttu-id="c33cf-167">詳細については、「[インストール済みアプリのアプリケーション ユーザー モデル ID を検索する (Industry 8.1)](https://docs.microsoft.com/en-us/previous-versions/windows/embedded/dn449300(v=winembedded.82))」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c33cf-167">For details, see For details, see [Find the Application User Model ID of an installed app (Industry 8.1)](https://docs.microsoft.com/en-us/previous-versions/windows/embedded/dn449300(v=winembedded.82)).</span></span>
* <span data-ttu-id="c33cf-168">**android** - 詳細については、「[パッケージ名の変更](https://developer.android.com/studio/build/application-id.html#change_the_package_name)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c33cf-168">**android** - For details, see [Change the package name](https://developer.android.com/studio/build/application-id.html#change_the_package_name).</span></span> 
* <span data-ttu-id="c33cf-169">**ios** - 詳細については、「[バンドル](https://developer.apple.com/documentation/foundation/bundle)」および「[必須プロパティ、ローカライズ可能なプロパティ、編集可能なプロパティ](https://help.apple.com/itunes-connect/developer/#/devfc3066644)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c33cf-169">**ios** - For details, see [Bundle](https://developer.apple.com/documentation/foundation/bundle) and [Required, localizable, and editable properties](https://help.apple.com/itunes-connect/developer/#/devfc3066644).</span></span>
* <span data-ttu-id="c33cf-170">**msa** – [アプリケーション登録ポータル](https://apps.dev.microsoft.com)にサインインします。</span><span class="sxs-lookup"><span data-stu-id="c33cf-170">**msa** – Sign in to the [Application registration portal](https://apps.dev.microsoft.com).</span></span> <span data-ttu-id="c33cf-171">自分の任意のアプリについて、アプリ ID/クライアント ID を確認できます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-171">You can view the App ID/client ID for any of your apps.</span></span> <span data-ttu-id="c33cf-172">Live SDK (16 進値) と統合アプリ ID (GUID) の両方がサポートされています。</span><span class="sxs-lookup"><span data-stu-id="c33cf-172">Both Live SDK (hex values) and Converged app IDs (GUIDs) are supported.</span></span>   

### <a name="step-3-configure-support-for-microsoft-account-or-azure-ad"></a><span data-ttu-id="c33cf-173">手順 3: Microsoft アカウントまたは Azure AD のサポートを構成する</span><span class="sxs-lookup"><span data-stu-id="c33cf-173">Step 3: Configure support for Microsoft account or Azure AD</span></span>
<span data-ttu-id="c33cf-174">クロスデバイス エクスペリエンスを有効にするには、アプリ ユーザーが  [Microsoft アカウント](https://account.microsoft.com/account) または  [Azure Active Directory](https://docs.microsoft.com/en-us/azure/active-directory/develop/active-directory-developers-guide)  (Azure AD) アカウントのいずれかでサインインする必要があります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-174">To enable cross-device experiences, your app users must sign in with either a [Microsoft account](https://account.microsoft.com/account) or an [Azure Active Directory](https://docs.microsoft.com/en-us/azure/active-directory/develop/active-directory-developers-guide) (Azure AD) account.</span></span> <span data-ttu-id="c33cf-175">クロスデバイス アプリ構成の一部として認証をサポートするためのアプリ ID/クライアント ID を提供することにより、クロスプラットフォーム サポートが有効になります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-175">You will provide the app ID/client IDs to support authentication as part of your cross-device app configuration to enable cross-platform support.</span></span> <span data-ttu-id="c33cf-176">最大 10 個のインスタンスを提供できます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-176">You can provide up to 10 instances.</span></span>

<span data-ttu-id="c33cf-177">既存のアプリ ID/クライアント ID を検索するか、またはデベロッパー カウントで[アプリケーション登録ポータル](https://apps.dev.microsoft.com)にサインインすることにより新しい ID をプロビジョニングします。</span><span class="sxs-lookup"><span data-stu-id="c33cf-177">You can find your existing app ID/client IDs or provision new ones by signing in to the [Application registration portal](https://apps.dev.microsoft.com) with your developer account.</span></span> <span data-ttu-id="c33cf-178">そのポータルにサインインすると、自分の任意のアプリのアプリ ID/クライアント ID を確認できます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-178">When you sign in to the portal, you can view the App ID/client ID for any of your apps.</span></span> <span data-ttu-id="c33cf-179">Live SDK (16 進値) と統合アプリ ID (GUID) の両方がサポートされています。</span><span class="sxs-lookup"><span data-stu-id="c33cf-179">Both Live SDK (hex values) and converged app IDs (GUIDs) are supported.</span></span>   

<span data-ttu-id="c33cf-180">Azure AD のユーザーをサポートするアプリケーションをビルドする場合、[アプリケーション登録ポータル](https://apps.dev.microsoft.com)により発行される統合アプリケーション ID を使用していないなら、Azure アプリのアプリケーション ID のための GUID を提供することが必要になります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-180">If you're building an application that will support Azure AD users, and you do not use a converged application ID issued through the [Application registration portal](https://apps.dev.microsoft.com), you will need to provide the GUID for the application ID of your Azure app.</span></span> <span data-ttu-id="c33cf-181">テナントの GUID を調べるには:</span><span class="sxs-lookup"><span data-stu-id="c33cf-181">To find the GUID for your tenant:</span></span> 

1. <span data-ttu-id="c33cf-182">[Azure portal](https://portal.azure.com)にサインインします。</span><span class="sxs-lookup"><span data-stu-id="c33cf-182">Sign in to the [Azure portal](https://portal.azure.com).</span></span> 
2. <span data-ttu-id="c33cf-183">**Azure Active Directory** を選択します。</span><span class="sxs-lookup"><span data-stu-id="c33cf-183">Select **Azure Active Directory**.</span></span>
3. <span data-ttu-id="c33cf-184">**[管理]** の下で **[アプリの登録]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="c33cf-184">Under **Manage**, select **App registrations**.</span></span> 
4. <span data-ttu-id="c33cf-185">リストからアプリを選択すると、**[基本]** の下にアプリケーション ID (GUID) が表示されます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-185">Select your app from the list and view your Application ID (GUID) listed under **Essentials**.</span></span>

### <a name="step-4-configure-support-for-cross-platform-push-notifications-optional"></a><span data-ttu-id="c33cf-186">手順 4: クロスプラットフォーム プッシュ通知のサポートを構成する (オプション)</span><span class="sxs-lookup"><span data-stu-id="c33cf-186">Step 4: Configure support for cross-platform push notifications (optional)</span></span> 
<span data-ttu-id="c33cf-187">クロスデバイス アプリを Windows デベロッパー センターで構成することにした場合は、Android および iOS プッシュ メッセージング プラットフォーム用の API で使用する認証情報を提供することにより、クロスプラットフォーム プッシュ通知のサポートを有効にすることができます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-187">If you've opted to configure your cross-device app in the Windows Dev Center, you can enable support for cross-platform push notifications by providing the credentials you use with the APIs for Android and iOS push messaging platforms.</span></span> <span data-ttu-id="c33cf-188">それらは、Project Rome SDK for iOS および Android を使用していて、ユーザー アクティビティの公開以外のことをする場合に必須です。</span><span class="sxs-lookup"><span data-stu-id="c33cf-188">These are required if you're using the Project Rome SDKs for iOS and Android and you want to do more than publish user activities.</span></span> <span data-ttu-id="c33cf-189">Project Rome API for Microsoft Graph のみを使用する場合は、この手順を実行する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="c33cf-189">If you're using Project Rome APIs for Microsoft Graph only, you don't need to perform this step.</span></span> <span data-ttu-id="c33cf-190">プラットフォームごとに認証情報を最大 10 セット関連付けることができます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-190">You can associate up to 10 sets of credentials per platform.</span></span> 

><span data-ttu-id="c33cf-191">**重要:** プッシュ通知認証情報は、外部ホスティング JSON ファイルには保存しないでください。</span><span class="sxs-lookup"><span data-stu-id="c33cf-191">**Important:** Do not store push notification credentials in an externally hosted JSON file.</span></span>

<span data-ttu-id="c33cf-192">ID を検索するには:</span><span class="sxs-lookup"><span data-stu-id="c33cf-192">To find the IDs:</span></span>

* <span data-ttu-id="c33cf-193">
  \*\*Windows 通知サービス\*\* - 「[アプリの登録とクラウド サービスのための認証情報の受け取り](https://docs.microsoft.com/en-us/previous-versions/windows/apps/hh913756(v=win.10)#registering-your-app-and-receiving-the-credentials-for-your-cloud-service)」および「[アプリケーション登録ポータル](https://apps.dev.microsoft.com)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c33cf-193">**Windows Notification Service** - See [Registering your app and receiving the credentials for your cloud service](https://docs.microsoft.com/en-us/previous-versions/windows/apps/hh913756(v=win.10)#registering-your-app-and-receiving-the-credentials-for-your-cloud-service) and the [Application registration portal](https://apps.dev.microsoft.com).</span></span>
* <span data-ttu-id="c33cf-194">**Apple Push Notification Service** -「[APN の概要](https://developer.apple.com/library/content/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/APNSOverview.html)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c33cf-194">**Apple Push Notification Service** -See [APNs Overview](https://developer.apple.com/library/content/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/APNSOverview.html).</span></span>
* <span data-ttu-id="c33cf-195">**Google Cloud Messaging** - 「[Firebase Cloud Messaging](https://firebase.google.com/docs/cloud-messaging/)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c33cf-195">**Google Cloud Messaging** - See [Firebase Cloud Messaging](https://firebase.google.com/docs/cloud-messaging/).</span></span>

<span data-ttu-id="c33cf-196">**注:** Firebase を使用することにより iOS デバイスに Android 認証情報を使用して通知をプッシュしている場合は、クロスデバイス アプリ構成の一部として APN 認証情報を提供する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-196">**Note:** If you're using Firebase to push notifications to iOS devices using Android credentials, you'll need to provide your APNs credentials as part of your cross-device app configuration.</span></span> 

## <a name="configure-a-cross-device-app-using-an-externally-hosted-json-file"></a><span data-ttu-id="c33cf-197">外部ホスティング JSON ファイルを使用してクロスデバイス アプリを構成する</span><span class="sxs-lookup"><span data-stu-id="c33cf-197">Configure a cross-device app using an externally hosted JSON file</span></span>
<span data-ttu-id="c33cf-198">クロスデバイス アプリ ID は、自分の所有するドメインとして表されます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-198">A cross-device app ID is represented as a domain that you own.</span></span> <span data-ttu-id="c33cf-199">そのドメインは、自分のドメイン上でホスティングされる JSON ファイルとして、または Windows デベロッパー センターにより構成可能なものとして保存されているプラットフォーム固有のアプリ ID のマッピングを指します。</span><span class="sxs-lookup"><span data-stu-id="c33cf-199">The domain points to a mapping of your platform-specific app IDs stored either as a JSON file hosted on your domain or configurable via the Windows Dev Center.</span></span> <span data-ttu-id="c33cf-200">クロスデバイス アプリ ID を表すために使用するドメインを特定したら、次に、関連するプロファイルを構成するための情報を収集する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-200">After you identify the domain you'll use to represent your cross-device app ID, you'll need to collect information to configure the associated profile.</span></span> 

### <a name="step-1-select-a-secure-domain-for-your-cross-device-app-id"></a><span data-ttu-id="c33cf-201">手順 1: クロスデバイス アプリ ID のためのセキュリティ保護ドメインを選択する</span><span class="sxs-lookup"><span data-stu-id="c33cf-201">Step 1: Select a secure domain for your cross-device app ID</span></span>
<span data-ttu-id="c33cf-202">クロスデバイス アプリ ID は、自分の所有するドメインとして表されます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-202">A cross-device app ID is represented as a domain that you own.</span></span> <span data-ttu-id="c33cf-203">これは、トップレベルのドメインかサブドメインのいずれかで、TLS で保護されていなければなりません。</span><span class="sxs-lookup"><span data-stu-id="c33cf-203">This must either be a top-level domain or a subdomain, and must be protected via TLS.</span></span> <span data-ttu-id="c33cf-204">例: https://contoso.com または https://myapp.contoso.com。しかし、https://myapp.contoso.com/somepath は無効です。</span><span class="sxs-lookup"><span data-stu-id="c33cf-204">For example: https://contoso.com or https://myapp.contoso.com but NOT https://myapp.contoso.com/somepath.</span></span> <span data-ttu-id="c33cf-205">ドメイン (またはサブドメイン) はクロスデバイス アプリごとに固有でなければなりません。</span><span class="sxs-lookup"><span data-stu-id="c33cf-205">You must have a unique domain (or subdomain) per cross-device app.</span></span> <span data-ttu-id="c33cf-206">しかし、単一のクロスデバイス アプリにどのアプリを関連付けるかは、サポートする予定のクロスプラットフォームの動作に基づいて自分で決定します。</span><span class="sxs-lookup"><span data-stu-id="c33cf-206">However, you decide which apps to associate with a single cross-device app based on the cross-platform behavior you want to support.</span></span> 

<span data-ttu-id="c33cf-207">たとえば、一連のゲーム アプリを手がけるアプリ開発者は、アプリごとに別個のサブドメインを使い分けることにより、複数のデバイスやプラットフォームでデータを読んで再開可能なユーザー アクティビティにのみ確実に各アプリがサブスクライブされるようにするかもしれません。</span><span class="sxs-lookup"><span data-stu-id="c33cf-207">For example, an app developer with a suite of game apps might use a separate subdomain for each to ensure that each app is only subscribed to the user activities it can resume when reading data across devices and platforms.</span></span> <span data-ttu-id="c33cf-208">連携動作するよう設計された一連の生産性アプリ スイートを手がけるアプリ開発者は、そのすべてに共通の単一のドメインを使用することにより、デバイスが変わってもアプリでスイートのメンバーを立ち上げることができるようにするかもしれません。</span><span class="sxs-lookup"><span data-stu-id="c33cf-208">An app developer with a suite of productivity apps designed to work together might use a single domain for all of these so that any app is able to launch a member of the suite across devices.</span></span>  

#### <a name="assert-domain-ownership-with-an-externally-hosted-json-file"></a><span data-ttu-id="c33cf-209">外部ホスティング JSON ファイルによるドメイン所有権のアサート</span><span class="sxs-lookup"><span data-stu-id="c33cf-209">Assert domain ownership with an externally hosted JSON file</span></span> 
<span data-ttu-id="c33cf-210">外部ホスティング JSON ファイルを使用してクロスデバイス アプリを管理している場合は、cross-platform-app-identifiers ファイルの中に Microsoft アカウントまたは Azure AD アプリ ID を含めることにより、ドメイン所有権をアサートします。</span><span class="sxs-lookup"><span data-stu-id="c33cf-210">If you're using an externally hosted JSON file to manage your cross-device app, you assert domain ownership by including your Microsoft account or Azure AD app IDs in the cross-platform-app-identifiers file.</span></span> <span data-ttu-id="c33cf-211">ドメイン所有権は、アクティビティ フィード API を使用してユーザー アクティビティを作成する際に、公開プロセスの一部として検証されます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-211">Your domain ownership will be verified as part of the publish process when you use the activity feed API to create user activities.</span></span>

<span data-ttu-id="c33cf-212">ドメイン上で頻繁にリクエストが生成されるのを回避するため、JSON ファイルの内容はシステムによりキャッシュに入れられます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-212">The system will cache the contents of the JSON file to avoid generating frequent requests on your domain.</span></span> <span data-ttu-id="c33cf-213">構成されている場合、キャッシュ更新のタイミングを評価する際に、サービスにより HTTP キャッシュ ヘッダーが考慮されます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-213">If configured, the service will respect HTTP cache headers when evaluating when to refresh the cache.</span></span> <span data-ttu-id="c33cf-214">構成されていない場合、サービスは 24 時間ごとに更新されます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-214">If not configured, the service will refresh every 24 hours.</span></span> 

### <a name="step-2-collect-your-platform-specific-application-ids-and-construct-your-json-file"></a><span data-ttu-id="c33cf-215">手順 2: プラットフォーム固有アプリケーション ID を収集し、JSON ファイルを構成する</span><span class="sxs-lookup"><span data-stu-id="c33cf-215">Step 2: Collect your platform-specific application IDs and construct your JSON file</span></span>
<span data-ttu-id="c33cf-216">アクティビティ フィードやデバイス リレー API を使用するアプリケーションとプラットフォームのそれぞれについて、プラットフォーム固有のアプリケーション ID を収集します。</span><span class="sxs-lookup"><span data-stu-id="c33cf-216">Collect the platform-specific application IDs for each application and platform that will use the activity feed and/or device relay API.</span></span> 

<span data-ttu-id="c33cf-217">クロスデバイス アプリ ID に関連付けるため、それぞれのプラットフォーム固有のアプリケーション ID を収集する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-217">You'll need to collect each of the platform-specific application IDs in order to associate them with your cross-device app identity.</span></span> <span data-ttu-id="c33cf-218">外部ホスティング JSON ファイルを使用する場合、クロスデバイス アプリの一部として構成するプラットフォーム固有アプリのそれぞれについてアプリ ID を収集し、それらをアセンブルして指定された形式にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-218">Using an externally hosted JSON file, you'll need to collect app IDs for each of the platform-specific apps to configure as part of your cross-device app and assemble them into the specified format.</span></span> <span data-ttu-id="c33cf-219">プラットフォームごとに最大 10 個の ID を関連付けることができます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-219">You can associate up to 10 IDs per platform.</span></span> 

#### <a name="constructing-your-cross-platform-app-identifiers-file"></a><span data-ttu-id="c33cf-220">cross-platform-app-identifiers ファイルの構成</span><span class="sxs-lookup"><span data-stu-id="c33cf-220">Constructing your cross-platform-app-identifiers file</span></span>
<span data-ttu-id="c33cf-221">JSON ファイル自体の名前は **cross-platform-app-identifiers** でなければならず、HTTPS ドメインのルートでホスティングされていなければなりません。</span><span class="sxs-lookup"><span data-stu-id="c33cf-221">The JSON file itself must be named **cross-platform-app-identifiers** and hosted at root of your HTTPS domain.</span></span> <span data-ttu-id="c33cf-222">ファイルの内容は、アプリケーションでサポートされるプラットフォームと、それらのプラットフォーム上のアプリケーション ID とのマッピングの JSON 配列です。</span><span class="sxs-lookup"><span data-stu-id="c33cf-222">The contents of the file are a JSON array of mappings between your application's supported platforms and the application IDs on those platforms.</span></span> <span data-ttu-id="c33cf-223">このファイルを構成する際には、Project Rome API を使用するアプリケーションおよびプラットフォームのそれぞれについて、JSON オブジェクトを 1 つずつ含めます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-223">When constructing the file, include a JSON object for each application and platform that will use Project Rome APIs.</span></span> 
 
<span data-ttu-id="c33cf-224">このファイルにより、同じプラットフォーム ID で複数の JSON オブジェクトが可能になります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-224">The file will allow for multiple JSON objects with the same platform identifier.</span></span> <span data-ttu-id="c33cf-225">たとえば、iPhone アプリと iPad アプリは、それぞれ iOS をプラットフォーム値として、別個の JSON オブジェクトとして列挙される必要があります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-225">For example, an iPhone app and an iPad app should be listed as separate JSON objects, each with a platform value of iOS.</span></span> <span data-ttu-id="c33cf-226">次の例に、Web プラットフォーム ID を示します。</span><span class="sxs-lookup"><span data-stu-id="c33cf-226">The web platform identifier is shown in the following example.</span></span>
 
<span data-ttu-id="c33cf-227">すべてのプラットフォームについて JSON オブジェクトを含める必要はありません。</span><span class="sxs-lookup"><span data-stu-id="c33cf-227">You don't need to include a JSON object for all platforms.</span></span> <span data-ttu-id="c33cf-228">アプリケーションが Project Rome API を使用するプラットフォームについてのみ、JSON オブジェクトを含めます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-228">Only include JSON objects for platforms where your application is using Project Rome APIs.</span></span><span data-ttu-id="c33cf-229">たとえば、Android プラットフォームのアプリ クライアントがない場合、ファイルの中に Android のエントリを含める必要はありません。</span><span class="sxs-lookup"><span data-stu-id="c33cf-229"> For example, if you don't have an app client for the Android platform, you don’t need an entry in the file for Android.</span></span>
 
<span data-ttu-id="c33cf-230">次の例には、現在受け入れられる有効なプラットフォーム ID のすべてが含まれています。</span><span class="sxs-lookup"><span data-stu-id="c33cf-230">The following example includes all the valid platform identifiers currently accepted.</span></span> <span data-ttu-id="c33cf-231">無効なプラットフォーム値が含まれる JSON オブジェクトは、除去されます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-231">JSON objects that include an invalid platform value will be stripped out.</span></span>  

```[
{"platform":"windows_universal", "application":"Microsoft.Contoso_8wekyb3d8bbwe"},
{"platform":"windows_win32", "application":"DefaultBrowser_NOPUBLISHERID!Microsoft.Contoso.Default"},
{"platform":"android","application":"com.example.myapp"},
{"platform":"ios", "application":"com.example.myapp"},
{"platform":"web", "application":"https://contoso.com"},
{"platform":"web", "application":"https://chat.contoso.com"},
{"platform":"msa", "application":"00000000603E0BF"},
{"platform":"msa", "application":"48932b46-98b1-4020-9be4-cc7a65643c9e"},
]
```

<span data-ttu-id="c33cf-232">ID を検索するには:</span><span class="sxs-lookup"><span data-stu-id="c33cf-232">To find the IDs:</span></span>

* <span data-ttu-id="c33cf-233">**windows_universal** - UWP アプリごとに 1 つの AUMID を提供します。</span><span class="sxs-lookup"><span data-stu-id="c33cf-233">**windows_universal** - Provide an AUMID for each UWP app.</span></span> <span data-ttu-id="c33cf-234">詳細については、「[インストール済みアプリのアプリケーション ユーザー モデル ID を検索する (Industry 8.1)](https://docs.microsoft.com/en-us/previous-versions/windows/embedded/dn449300(v=winembedded.82))」および「[アプリケーション](https://docs.microsoft.com/en-US/uwp/schemas/appxpackage/appxmanifestschema/element-application)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c33cf-234">For details, see [Find the Application User Model ID of an installed app (Industry 8.1)](https://docs.microsoft.com/en-us/previous-versions/windows/embedded/dn449300(v=winembedded.82)) and [Application](https://docs.microsoft.com/en-US/uwp/schemas/appxpackage/appxmanifestschema/element-application).</span></span>
* <span data-ttu-id="c33cf-235">**windows_win32** - アプリごとに 1 つの AUMID を提供します。</span><span class="sxs-lookup"><span data-stu-id="c33cf-235">**windows_win32** - Provide an AUMID for each app.</span></span> <span data-ttu-id="c33cf-236">win32 アプリの場合、この情報を取得するにはスクリプトを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-236">For win32 apps, you'll need to use a script to retrieve this information.</span></span> <span data-ttu-id="c33cf-237">詳細については、「[インストール済みアプリのアプリケーション ユーザー モデル ID を検索する (Industry 8.1)](https://docs.microsoft.com/en-us/previous-versions/windows/embedded/dn449300(v=winembedded.82))」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c33cf-237">For details, see For details, see [Find the Application User Model ID of an installed app (Industry 8.1)](https://docs.microsoft.com/en-us/previous-versions/windows/embedded/dn449300(v=winembedded.82)).</span></span>
* <span data-ttu-id="c33cf-238">**android** - 詳細については、「[パッケージ名の変更](https://developer.android.com/studio/build/application-id.html#change_the_package_name)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c33cf-238">**android** - For details, see [Change the package name](https://developer.android.com/studio/build/application-id.html#change_the_package_name).</span></span> 
* <span data-ttu-id="c33cf-239">**ios** - 詳細については、「[バンドル](https://developer.apple.com/documentation/foundation/bundle)」および「[必須プロパティ、ローカライズ可能なプロパティ、編集可能なプロパティ](https://help.apple.com/itunes-connect/developer/#/devfc3066644)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c33cf-239">**ios** - For details, see [Bundle](https://developer.apple.com/documentation/foundation/bundle) and [Required, localizable, and editable properties](https://help.apple.com/itunes-connect/developer/#/devfc3066644).</span></span>
* <span data-ttu-id="c33cf-240">**msa** – [アプリケーション登録ポータル](https://apps.dev.microsoft.com)にサインインします。</span><span class="sxs-lookup"><span data-stu-id="c33cf-240">**msa** – Sign in to the [Application registration portal](https://apps.dev.microsoft.com).</span></span> <span data-ttu-id="c33cf-241">自分の任意のアプリについて、アプリ ID/クライアント ID を確認できます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-241">You can view the App ID/client ID for any of your apps.</span></span> <span data-ttu-id="c33cf-242">Live SDK (16 進値) と統合アプリ ID (GUID) の両方がサポートされています。</span><span class="sxs-lookup"><span data-stu-id="c33cf-242">Both Live SDK (hex values) and Converged app IDs (GUIDs) are supported.</span></span>   

### <a name="step-3-configure-support-for-microsoft-account-or-azure-ad"></a><span data-ttu-id="c33cf-243">手順 3: Microsoft アカウントまたは Azure AD のサポートを構成する</span><span class="sxs-lookup"><span data-stu-id="c33cf-243">Step 3: Configure support for Microsoft account or Azure AD</span></span>
<span data-ttu-id="c33cf-244">クロスデバイス エクスペリエンスを有効にするには、アプリ ユーザーが Microsoft アカウントまたは Azure AD アカウントのいずれかでサインインする必要があります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-244">To enable cross-device experiences, your app users must sign in with either a Microsoft account or an Azure AD account.</span></span> <span data-ttu-id="c33cf-245">クロスデバイス アプリ構成の一部として認証をサポートするためのアプリ ID/クライアント ID を提供することにより、クロスプラットフォーム サポートが有効になります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-245">You will provide the app ID/client IDs to support authentication as part of your cross-device app configuration to enable cross-platform support.</span></span> <span data-ttu-id="c33cf-246">最大 10 個のインスタンスを提供できます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-246">You can provide up to 10 instances.</span></span>

```[
{"platform":"windows_universal", "application":"Microsoft.Contoso_8wekyb3d8bbwe"},
{"platform":"windows_win32", "application":"DefaultBrowser_NOPUBLISHERID!Microsoft.Contoso.Default"},
{"platform":"android","application":"com.example.myapp"},
{"platform":"ios", "application":"com.example.myapp"},
{"platform":"web", "application":"https://contoso.com"},
{"platform":"web", "application":"https://chat.contoso.com"},
{"platform":"msa", "application":"00000000603E0BF"},
{"platform":"msa", "application":"48932b46-98b1-4020-9be4-cc7a65643c9e"},
]
```

<span data-ttu-id="c33cf-247">既存のアプリ ID/クライアント ID を検索するか、またはデベロッパー カウントで [アプリケーション登録ポータル](https://apps.dev.microsoft.com)にサインインすることにより新しい ID をプロビジョニングします。</span><span class="sxs-lookup"><span data-stu-id="c33cf-247">You can find your existing app ID/client IDs or provision new ones by signing in to the [Application Registration Portal](https://apps.dev.microsoft.com) with your developer account.</span></span> <span data-ttu-id="c33cf-248">サインインすると、自分の任意のアプリのアプリ ID/クライアント ID を確認できます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-248">When you sign in, you can view the App ID/client ID for any of your apps.</span></span> <span data-ttu-id="c33cf-249">Live SDK (16 進値) と統合アプリ ID (GUID) の両方がサポートされています。</span><span class="sxs-lookup"><span data-stu-id="c33cf-249">Both Live SDK (hex values) and converged app IDs (GUIDs) are supported.</span></span> <span data-ttu-id="c33cf-250">前の例に示されているように、Microsoft アカウントまたは Azure AD のサポートを有効にするために使用される ID を追加する際には、プラットフォーム タイプとして "msa" を使用します。</span><span class="sxs-lookup"><span data-stu-id="c33cf-250">Use the platform type "msa" when you add the IDs used to enable support for a Microsoft account or Azure AD, as shown in the previous example.</span></span>  

><span data-ttu-id="c33cf-251">**注:** Azure AD のユーザーをサポートするアプリケーションをビルドする場合、 [アプリケーション登録ポータル](https://apps.dev.microsoft.com)により発行される統合アプリケーション ID を使用していないなら、Azure アプリのアプリケーション ID のための GUID を提供することが必要になります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-251">**Note:** If you're building an application that supports Azure AD users, and you do not use a converged application ID issued through the [Application Registration Portal](https://apps.dev.microsoft.com), you will need to provide the GUID for the application ID of your Azure app.</span></span> <span data-ttu-id="c33cf-252">このタイプの ID は、プラットフォーム タイプ "msa" としても構成されていなければなりません。</span><span class="sxs-lookup"><span data-stu-id="c33cf-252">This type of ID should also be configured as platform type "msa".</span></span> 

<span data-ttu-id="c33cf-253">テナントに対応する Azure Portal の GUID を検索するには:</span><span class="sxs-lookup"><span data-stu-id="c33cf-253">To find the GUID in the Azure Portal for your tenant:</span></span> 

1. <span data-ttu-id="c33cf-254">[Azure portal](https://portal.azure.com)にサインインします。</span><span class="sxs-lookup"><span data-stu-id="c33cf-254">Sign in to the [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="c33cf-255">**Azure Active Directory** を選択します。</span><span class="sxs-lookup"><span data-stu-id="c33cf-255">Select **Azure Active Directory**.</span></span> 
3. <span data-ttu-id="c33cf-256">**[管理]** の下で **[アプリの登録]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="c33cf-256">Under **Manage**, select **App registrations**.</span></span>
4. <span data-ttu-id="c33cf-257">リストからアプリを選択します。</span><span class="sxs-lookup"><span data-stu-id="c33cf-257">Select your app from the list.</span></span> <span data-ttu-id="c33cf-258">**[基本]** の下にアプリケーション ID (GUID) が表示されます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-258">You can view your application ID (GUID) under **Essentials**.</span></span>

#### <a name="encoding-the-cross-platform-app-identifiers-file"></a><span data-ttu-id="c33cf-259">cross-platform-app-identifiers ファイルのエンコード</span><span class="sxs-lookup"><span data-stu-id="c33cf-259">Encoding the cross-platform-app-identifiers file</span></span> 
<span data-ttu-id="c33cf-260">プラットフォームを移る際に、アクティビティが正しいネイティブ アプリケーションで再開しない場合、またはグループ内の全メンバーによって公開されているアクティビティを読み取ることができない場合、JSON ファイルが適切に解析されていないことが考えられます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-260">If you're not seeing activities resume in the correct native applications across platforms, or you're unable to read activities published by all members in the group, your JSON file might not be getting parsed appropriately.</span></span> <span data-ttu-id="c33cf-261">このファイルを出力する際には、cross-platform-app-identifiers ファイルを "Unicode (シグニチャなしの UTF-8) - コードページ 65001" エンコードで保存するようにしてください。</span><span class="sxs-lookup"><span data-stu-id="c33cf-261">When outputting this file, make sure you're saving the cross-platform-app-identifiers file with "Unicode (UTF-8 without signature) - Codepage 65001" encoding.</span></span>

#### <a name="updating-the-cross-platform-app-identifiers-json-file"></a><span data-ttu-id="c33cf-262">cross-platform-app-identifiers JSON ファイルの更新</span><span class="sxs-lookup"><span data-stu-id="c33cf-262">Updating the cross-platform-app-identifiers JSON file</span></span> 
<span data-ttu-id="c33cf-263">ドメイン上で頻繁にリクエストが生成されるのを回避するため、JSON ファイルの内容はシステムによりキャッシュに入れられます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-263">The system will cache the contents of the JSON file to avoid generating frequent requests on your domain.</span></span> <span data-ttu-id="c33cf-264">構成されている場合、キャッシュ更新のタイミングを評価する際に、サービスにより HTTP キャッシュ ヘッダーが考慮されます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-264">If configured, the service will respect HTTP cache headers when evaluating when to refresh the cache.</span></span> <span data-ttu-id="c33cf-265">構成されていない場合、サービスは 24 時間ごとに更新されます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-265">If not configured, the service will refresh every 24 hours.</span></span> 

## <a name="configure-your-app-client"></a><span data-ttu-id="c33cf-266">アプリ クライアントを構成する</span><span class="sxs-lookup"><span data-stu-id="c33cf-266">Configure your app client</span></span> 
<span data-ttu-id="c33cf-267">Windows、iOS、Android のクライアント サイド API を使用している場合、アプリ クライアントを確実に、クロスデバイス アプリ ID を表すホスト値 (contoso.com など) で構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-267">If you're using the client-side APIs for Windows, iOS, or Android, you'll need to make sure your app client is configured with the host value that represents your cross-device app identity (for example, contoso.com).</span></span>

### <a name="microsoft-graph-apps"></a><span data-ttu-id="c33cf-268">Microsoft Graph のアプリ</span><span class="sxs-lookup"><span data-stu-id="c33cf-268">Microsoft Graph apps</span></span> 
<span data-ttu-id="c33cf-269">Microsoft Graph でアクティビティ フィード API を使用するアプリがある場合、ホスト値を **activitySourceHost** プロパティに指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-269">If you have an app using the activity feed API in Microsoft Graph, your host value must be supplied in the **activitySourceHost** property.</span></span> <span data-ttu-id="c33cf-270">詳細については、「[アクティビティ リソース タイプ](/graph/api/resources/projectrome-activity?view=graph-rest-1.0)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c33cf-270">For details, see [activity resource type](/graph/api/resources/projectrome-activity?view=graph-rest-1.0).</span></span>

### <a name="universal-windows-apps"></a><span data-ttu-id="c33cf-271">ユニバーサル Windows アプリ</span><span class="sxs-lookup"><span data-stu-id="c33cf-271">Universal Windows apps</span></span>
<span data-ttu-id="c33cf-272">Windows アプリがある場合、データを公開する前に、アプリ マニフェストの中にホスト値を構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-272">If you have a Windows app, you will need to configure the host value in your app manifest before publishing data.</span></span> <span data-ttu-id="c33cf-273">詳細については、「[uap5:UserActivity](https://docs.microsoft.com/en-us/uwp/schemas/appxpackage/uapmanifestschema/element-uap5-useractivity)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="c33cf-273">For details, see [uap5:UserActivity](https://docs.microsoft.com/en-us/uwp/schemas/appxpackage/uapmanifestschema/element-uap5-useractivity).</span></span> 

<!-- Removing until we add the details.
### iOS & Android apps
*Details coming soon.*
-->

## <a name="maintaining-your-cross-device-app-configuration"></a><span data-ttu-id="c33cf-274">クロスデバイス アプリ構成のメンテナンス</span><span class="sxs-lookup"><span data-stu-id="c33cf-274">Maintaining your cross-device app configuration</span></span>
<span data-ttu-id="c33cf-275">ユーザー アクティビティを生成する新しいアプリケーションをリリースする際には、事前に新しい構成値を使用してクロスデバイス アプリを更新することが重要です。これにより、新たに公開されるアクティビティがある場合に、それらがクロスデバイス アプリに正しく関連付けられます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-275">When releasing a new application that will generate user activities, it's important to update the cross-device app with the new configuration values in advance so that any new activities published are correctly associated with the cross-device app.</span></span> <span data-ttu-id="c33cf-276">構成に変更が加えられる前に公開されたユーザー アクティビティに関連付けられているクロスデバイス アプリ構成は、自動的には更新されません。</span><span class="sxs-lookup"><span data-stu-id="c33cf-276">The cross-device app configuration associated with user activities that have been published prior to a change in configuration will not be updated automatically.</span></span> <span data-ttu-id="c33cf-277">しかし、以前の構成のいずれかのアクティビティに対して更新操作が実行されると、ファイルの最新バージョンに更新されます。</span><span class="sxs-lookup"><span data-stu-id="c33cf-277">However, an update operation performed on any activity with an old configuration will be updated to the most recent version on file.</span></span>  

## <a name="troubleshooting"></a><span data-ttu-id="c33cf-278">トラブルシューティング</span><span class="sxs-lookup"><span data-stu-id="c33cf-278">Troubleshooting</span></span>

<span data-ttu-id="c33cf-279">アクティビティ フィード API に関連してよく発生する問題として、次のものがあります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-279">The following are some common issues that can occur with the activity feed API.</span></span>

### <a name="activities-are-not-available-to-read-and-write-for-all-apps-in-the-cross-device-app-configuration"></a><span data-ttu-id="c33cf-280">クロスデバイス アプリ構成のどのアプリについても、アクティビティを読み書き用に利用できない</span><span class="sxs-lookup"><span data-stu-id="c33cf-280">Activities are not available to read and write for all apps in the cross-device app configuration</span></span>
<span data-ttu-id="c33cf-281">アクティビティ フィード API はクロスデバイス アプリ構成を非同期に取り込むため、構成にエラーがあっても、ユーザー アクティビティの公開時に明らかにならないことがあります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-281">The activity feed API ingests the cross-device app configuration asynchronously, so configuration errors might not be readily apparent when publishing user activities.</span></span> <span data-ttu-id="c33cf-282">サービスで TLS や書式エラーのために JSON ファイルの取り込みに失敗した場合、公開されているアクティビティは、そのアクティビティを投稿したアプリ ID のみに帰属することになります。</span><span class="sxs-lookup"><span data-stu-id="c33cf-282">In the event the service fails to ingest the JSON file, either due to TLS or formatting error, any activities that have been published will be attributed to the app ID that posted the activity, only.</span></span> <span data-ttu-id="c33cf-283">アクティビティが Microsoft Graph によって公開されたものである場合、これは、Microsoft Graph へのリクエストを承認するために使用される Microsoft アカウント アプリ ID です。</span><span class="sxs-lookup"><span data-stu-id="c33cf-283">In the case of activities published via Microsoft Graph, this is the Microsoft account app ID used to authorize requests to Microsoft Graph.</span></span> <span data-ttu-id="c33cf-284">アクティビティがクライアント サイド API によって公開されたものである場合、activity.applicationId は、アクティビティを投稿したプラットフォーム固有アプリの ID のみを記録します。</span><span class="sxs-lookup"><span data-stu-id="c33cf-284">In the case of activities published via client-side APIs, the activity.applicationId will record the ID of the platform-specific app that posted the activity, only.</span></span> <span data-ttu-id="c33cf-285">その場合、クロスデバイス アプリ構成の中で指定されている他のプラットフォーム固有アプリから、アクティビティに対して読み書きの操作を実行することはできません。</span><span class="sxs-lookup"><span data-stu-id="c33cf-285">This will prevent read and write operations on activities from any other platform-specific apps identified in the cross-device app configuration.</span></span> 

### <a name="platform-will-not-initialize-on-android-or-ios"></a><span data-ttu-id="c33cf-286">Android または iOS でプラットフォームが初期化されない</span><span class="sxs-lookup"><span data-stu-id="c33cf-286">Platform will not initialize on Android or iOS</span></span>
<span data-ttu-id="c33cf-287">Android または iOS のデバイス リレー API では、Android または iOS アプリへの接続のインスタンスを生成するために、クロスデバイス アプリ構成が必要です。</span><span class="sxs-lookup"><span data-stu-id="c33cf-287">The device relay API for Android or iOS requires the cross-device app configuration in order to instantiate connections to the Android or iOS app.</span></span> <span data-ttu-id="c33cf-288">プラットフォームが正常に初期化できなかった場合は、Windows デベロッパー センターでクロスデバイス アプリを構成するために使用された Microsoft アカウント アプリ ID およびプッシュ通知認証情報が正しく指定されていることを確認した上で、クライアント アプリのホスト値を、クロスデバイス アプリを特定するドメインで構成してください。</span><span class="sxs-lookup"><span data-stu-id="c33cf-288">In the event that the platform fails to initialize successfully, make sure you have correctly identified the Microsoft account app IDs and push notification credentials used to configure your cross-device app in the Windows Dev Center, and configure your client apps' host value with the domain that identifies your cross-device app.</span></span> 
