---
title: アクティビティ フィードの REST API を使用します。
description: 'Graph API のフィード アクティビティを使用するにはデバイスやプラットフォーム間でユーザーの actiity を再開します。 アクティビティ フィードの API 要求は、委任されたアクセス許可とユーザーのアクティビティ権限、個人または仕事や学校のアカウントで使用できるユーザーの代わりに実行されます。 '
localization_priority: Normal
ms.prod: project-rome
ms.openlocfilehash: a229a5231894598fce0ff11f15926256987caa84
ms.sourcegitcommit: 36be044c89a19af84c93e586e22200ec919e4c9f
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/12/2019
ms.locfileid: "27971845"
---
# <a name="use-the-activity-feed-rest-api"></a><span data-ttu-id="9fec9-104">アクティビティ フィードの REST API を使用します。</span><span class="sxs-lookup"><span data-stu-id="9fec9-104">Use the activity feed REST API</span></span>

<span data-ttu-id="9fec9-105">Graph API のフィード アクティビティを使用するにはデバイスやプラットフォーム間でユーザーの actiity を再開します。</span><span class="sxs-lookup"><span data-stu-id="9fec9-105">You can use the activity feed API in Microsoft Graph to resume a user's actiity across devices and platforms.</span></span> <span data-ttu-id="9fec9-106">アクティビティ フィードの API 要求は、[委任されたアクセス許可](/graph/permissions-reference#delegated-permissions-application-permissions-and-effective-permissions)と[ユーザーの活動のアクセス権](/graph/permissions-reference)、個人または仕事や学校のアカウントを使用できるユーザーの代わりに実行されます。</span><span class="sxs-lookup"><span data-stu-id="9fec9-106">Activity feed API requests are performed on behalf of a user via [delegated permissions](/graph/permissions-reference#delegated-permissions-application-permissions-and-effective-permissions) and the [user activity permission](/graph/permissions-reference), which can be used with either personal or work and school accounts.</span></span> 

<span data-ttu-id="9fec9-107">ユーザー アクティビティが[アクティビティ](https://developer.microsoft.com/graph/docs/api-reference/v1.0/resources/projectrome_activity)のリソースによって表されで構成されて、時間ベースのフィードで表されるコレクション私と活動します。</span><span class="sxs-lookup"><span data-stu-id="9fec9-107">User activities are represented by the [activity](https://developer.microsoft.com/graph/docs/api-reference/v1.0/resources/projectrome_activity) resource and are organized in a time-based feed represented by the collection me/activities.</span></span> 
<!-- Add missing content.
Each activity represents a unique... 
-->
## <a name="what-makes-a-great-user-activity"></a><span data-ttu-id="9fec9-108">優れたユーザー アクティビティの特長は、</span><span class="sxs-lookup"><span data-stu-id="9fec9-108">What makes a great user activity?</span></span>

<span data-ttu-id="9fec9-109">ユーザー ・ アクティビティがないアプリケーションを起動して、-アプリ内の特定のコンテンツを高度なリンクであります。</span><span class="sxs-lookup"><span data-stu-id="9fec9-109">User activities don’t just launch apps — they are deep links into specific content within your app.</span></span> <span data-ttu-id="9fec9-110">作成するユーザーのアクティビティは、独自のアプリケーションでしか使用できませんが、Cortana および Windows のタイムラインにも表示されます、アプリケーションの複数の reengagement を推進し、複数のデバイス間でのアプリの使用を続行する、ユーザーに容易にします。</span><span class="sxs-lookup"><span data-stu-id="9fec9-110">The user activities you create can not only be used in your own app, but will also appear in Cortana and Windows Timeline — driving more app reengagement and making it easier for your users to continue using your app across multiple devices.</span></span>  

### <a name="what-should-become-an-activity"></a><span data-ttu-id="9fec9-111">活動になりますどのような必要がありますか。</span><span class="sxs-lookup"><span data-stu-id="9fec9-111">What should become an activity?</span></span> 

<span data-ttu-id="9fec9-112">すべてのアプリケーションが異なるため、各アプリケーション開発者がユーザーの利用状況、アプリケーション内で操作をマップする最善の方法を理解するです。</span><span class="sxs-lookup"><span data-stu-id="9fec9-112">Because every app is different, it's up to each app developer to understand the best way to map actions within your application to user activities.</span></span> <span data-ttu-id="9fec9-113">などのゲームは、各キャンペーンの活動を作成可能性があります、文書作成アプリケーションはそれぞれ固有のドキュメントのアクティビティを作成可能性があり、基幹業務アプリケーションは、各ワークフローのアクティビティを作成可能性があります。</span><span class="sxs-lookup"><span data-stu-id="9fec9-113">For example, games might create an activity for each campaign, document authoring apps might create an activity for each unique document, and line-of-business apps might create an activity for each workflow.</span></span> 

<span data-ttu-id="9fec9-114">アプリで activitites を定義する際は、次のガイドラインを適用します。</span><span class="sxs-lookup"><span data-stu-id="9fec9-114">Apply the following guidlines as you define activitites in your app:</span></span>

<span data-ttu-id="9fec9-115">**の操作を行います:** 関連するユーザー ・ アクションのグループの 1 つのアクティビティを記録します。</span><span class="sxs-lookup"><span data-stu-id="9fec9-115">**DO:** Record a single activity for a group of related user actions.</span></span> <span data-ttu-id="9fec9-116">関連コンテンツの一連のアプリケーションを使用する場合おそらく理にかなって契約全体のセッションの 1 つのアクティビティを記録します。</span><span class="sxs-lookup"><span data-stu-id="9fec9-116">If your application is used for a sequence of related content, it probably makes sense to record a single activity for the entire engagement session.</span></span>  

<span data-ttu-id="9fec9-117">*再生リストのシナリオ:* これは、特に、音楽の再生リストやテレビ番組の関連: 進捗状況を表示するのには 1 人のユーザーのアクティビティを更新することができます。</span><span class="sxs-lookup"><span data-stu-id="9fec9-117">*Playlist scenarios:* This is especially relevant for music playlists or TV shows — a single user activity can be updated to show your progress.</span></span> <span data-ttu-id="9fec9-118">この例では、単一のユーザーのアクティビティを複数の[履歴項目](https://developer.microsoft.com/graph/docs/api-reference/v1.0/resources/projectrome_historyitem)が複数の数日または数週間にわたって活動の期間を表すがあります。</span><span class="sxs-lookup"><span data-stu-id="9fec9-118">In this case, you will have a single user activity with multiple [history items](https://developer.microsoft.com/graph/docs/api-reference/v1.0/resources/projectrome_historyitem) representing periods of engagement across multiple days or weeks.</span></span>  

<span data-ttu-id="9fec9-119">**の操作を行います:** クラウドに移行するユーザー データを格納します。</span><span class="sxs-lookup"><span data-stu-id="9fec9-119">**DO:** Store user data to the cloud.</span></span> <span data-ttu-id="9fec9-120">デバイス間の活動をサポートする場合は、クラウド ストレージの場所にこのアクティビティを reengage に必要なコンテンツが格納されているかどうかを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9fec9-120">If you want to support cross-device activities, you need to make sure the content required to reengage this activity is stored to a cloud location.</span></span> <span data-ttu-id="9fec9-121">などのアクティビティをユーザーがドキュメントを編集するたびに発行する場合、ドキュメントする必要があるクラウドに格納はなくユーザーのデバイス上でローカルにデバイス間の reengagement を有効にするために。</span><span class="sxs-lookup"><span data-stu-id="9fec9-121">For example, if you publish an activity each time a user edits a document, the document should be stored in the cloud as opposed to locally on the user's device in order to enable cross-device reengagement.</span></span>  

<span data-ttu-id="9fec9-122">**しない:** 操作をユーザーが後で再開する必要はありませんのユーザーのアクティビティを作成します。</span><span class="sxs-lookup"><span data-stu-id="9fec9-122">**DO NOT:** Create a user activity for actions that users do not need to resume in the future.</span></span> <span data-ttu-id="9fec9-123">将来的に追跡するための状態は保持されません、シンプルな 1 回限りの操作を実行するアプリケーションを使用する場合、おそらくはユーザーの活動を作成する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="9fec9-123">If your application is used to complete simple, one-time operations that do not persist status for you to track in the future, you probably do not need to write a user activity.</span></span> 

<span data-ttu-id="9fec9-124">明確にするため、Windows のタイムラインでのユーザーのアクティビティが表示される場合でもこのとして設計されていないバージョン管理ツール、ドキュメント ベースのアクティビティを選択することは、(他のユーザーによって加えられた変更を含む)、そのドキュメントの最新バージョンを常に表示する必要があります</span><span class="sxs-lookup"><span data-stu-id="9fec9-124">To be clear, even though user activities appear in Windows Timeline, this is not designed as a versioning tool — choosing a document-based activity should always show the latest version of that document (including changes that were made by another user.)</span></span>

<span data-ttu-id="9fec9-125">\**しない:\*\*\*他のユーザー*によって完了したアクションのユーザーのアクティビティを作成します。</span><span class="sxs-lookup"><span data-stu-id="9fec9-125">**DO NOT:** Create a user activity for actions completed by *other users*.</span></span> <span data-ttu-id="9fec9-126">ユーザーが送信されるは、メッセージ、またはアプリケーション内でユーザーを @mentions、新しい活動を書き込む必要がありますされません。</span><span class="sxs-lookup"><span data-stu-id="9fec9-126">If someone sends the user a message, or @mentions the user within your app, you should not write a new activity.</span></span> <span data-ttu-id="9fec9-127">これらの相互作用方が通知を提示します。</span><span class="sxs-lookup"><span data-stu-id="9fec9-127">These interactions are better served by surfacing notifications.</span></span>  

<span data-ttu-id="9fec9-128">*コラボレーションのシナリオ:* 複数のユーザーは、同じアクティビティ (Word ドキュメントなど) で作業している場合、場合もあります別のユーザーが変更を行った文書を最後に編集した後にします。</span><span class="sxs-lookup"><span data-stu-id="9fec9-128">*Collaboration scenarios:* If multiple people are working on the same activity (such as a Word document), there will be cases when another user has made changes to the document after you last edited it.</span></span> <span data-ttu-id="9fec9-129">この例では、アプリの開発者は、ドキュメントに対する変更を反映するようにアクティビティの視覚的な要素を更新する場合があります。</span><span class="sxs-lookup"><span data-stu-id="9fec9-129">In this case, app developers might want to update the visual elements in the activity to reflect changes made to the document.</span></span> <span data-ttu-id="9fec9-130">これを行うには、アプリケーションは、新しい履歴項目を作成することがなく既存のアクティビティを更新することがあります。</span><span class="sxs-lookup"><span data-stu-id="9fec9-130">To do this, the app might update the existing activity without creating a new history item.</span></span> 

><span data-ttu-id="9fec9-131">**注:** 両方を含めるには web アプリケーションの活動を公開する場合、`activationURL`と`fallbackURL`の活動のそれぞれのです。</span><span class="sxs-lookup"><span data-stu-id="9fec9-131">**Note:** If you're publishing activities for a web application, it's important to include both an `activationURL` and a `fallbackURL` for each of your activities.</span></span> <span data-ttu-id="9fec9-132">活動が Windows のタイムラインのように、マイクロソフトの経験から期待どおりには、アプリにユーザーを起動します。</span><span class="sxs-lookup"><span data-stu-id="9fec9-132">The activities will launch the user back into your app as expected from Microsoft experiences like Windows Timeline.</span></span> 

## <a name="app-interaction-patterns-and-user-activities"></a><span data-ttu-id="9fec9-133">アプリケーションとの対話のパターンとユーザーの活動</span><span class="sxs-lookup"><span data-stu-id="9fec9-133">App interaction patterns and user activities</span></span> 
<span data-ttu-id="9fec9-134">ユーザー ・ アクティビティを作成するには、アプリケーションの相互作用のパターンによって異なります。</span><span class="sxs-lookup"><span data-stu-id="9fec9-134">The user activities that you create will vary based on the interaction pattern of your app.</span></span> <span data-ttu-id="9fec9-135">すべてのアプリケーションは異なるが、ほとんどは、対話のパターンを次のいずれかに分類されます。</span><span class="sxs-lookup"><span data-stu-id="9fec9-135">While every app is different, most will fall into one of the following interaction patterns:</span></span> 

* <span data-ttu-id="9fec9-136">**ドキュメント ベースのアプリケーション**ドキュメントあたり 1 つのアクティビティの使用の期間を反映した 1 つまたは複数の履歴レコードを作成します。</span><span class="sxs-lookup"><span data-stu-id="9fec9-136">**Document-based apps** — Create one activity per document with one or more history records reflecting periods of use.</span></span> <span data-ttu-id="9fec9-137">ドキュメントに変更を加えると、活動カードを更新するために重要です。</span><span class="sxs-lookup"><span data-stu-id="9fec9-137">It is important to update your activity card as changes are made to the document.</span></span> 
* <span data-ttu-id="9fec9-138">**メディア再生アプリ**再生リスト、プログラム、またはスタンドアロンのコンテンツなどのコンテンツの論理的なグループごとに 1 つのアクティビティを作成します。</span><span class="sxs-lookup"><span data-stu-id="9fec9-138">**Media playback apps** — Create one activity per logical grouping of content such as a playlist, program, or standalone content.</span></span> 
* <span data-ttu-id="9fec9-139">**ゲーム**またはゲームの世界は、保存ごとに 1 つのアクティビティを作成します。</span><span class="sxs-lookup"><span data-stu-id="9fec9-139">**Games** — Create one activity for each saved game or world.</span></span> <span data-ttu-id="9fec9-140">ゲームでは、レベルの 1 つのシーケンスのみがサポートされている場合、最新の進行状況や達成状況を表示するのには、カードを更新することもできますが、時間の経過とともに同じアクティビティを記述できます。</span><span class="sxs-lookup"><span data-stu-id="9fec9-140">If your game supports only a single sequence of levels, you can write the same activity over time, although you might want to update your card to show your latest progress or achievements.</span></span> 
* <span data-ttu-id="9fec9-141">**ユーティリティ アプリケーション**-活動を公開するユーザーが再開する必要があるアプリケーション内で何がある場合は、しない必要があります。</span><span class="sxs-lookup"><span data-stu-id="9fec9-141">**Utility apps** — If there is nothing within your app that users would want to resume, you should not publish activities.</span></span> <span data-ttu-id="9fec9-142">良い例は、電卓のような簡単な専用アプリケーションです。</span><span class="sxs-lookup"><span data-stu-id="9fec9-142">A good example is a simple single-purpose app like calculator.</span></span> 
* <span data-ttu-id="9fec9-143">**基幹業務アプリケーション**などの単純なタスクまたはワークフローを管理するのには多くのアプリケーションが存在します。</span><span class="sxs-lookup"><span data-stu-id="9fec9-143">**Line-of-business apps** — Many apps exist for managing simple tasks or workflows.</span></span> <span data-ttu-id="9fec9-144">独立したワークフローは、アプリを使用してアクセスごとに 1 つのアクティビティを作成します。</span><span class="sxs-lookup"><span data-stu-id="9fec9-144">Create one activity for each separate workflow accessed through your app.</span></span> <span data-ttu-id="9fec9-145">などの各経費精算書になります別のアクティビティでは、その活動をすることが承認されたかどうかを参照してください] をクリックすることができますので。</span><span class="sxs-lookup"><span data-stu-id="9fec9-145">For example, each expense report would be a separate activity, because you might want to click that activity to see if it was approved.</span></span>

<span data-ttu-id="9fec9-146">*いくつかの複雑なアプリケーションには、複数の相互作用のパターンが含まれています。さまざまなシナリオが、アプリケーションによって処理される別のユーザー アクティビティの作成パターンに従うこともできます。*</span><span class="sxs-lookup"><span data-stu-id="9fec9-146">*Some complex apps include multiple interaction patterns. You might want to follow different user activity creation patterns for different scenarios handled by your app.*</span></span>

<!-- Add content or remove H2.
## Common use cases 
-->

## <a name="next-steps"></a><span data-ttu-id="9fec9-147">次のステップ</span><span class="sxs-lookup"><span data-stu-id="9fec9-147">Next steps</span></span>

- <span data-ttu-id="9fec9-148">[アクティビティのリソース](https://developer.microsoft.com/graph/docs/api-reference/v1.0/resources/projectrome_activity)を参照してくださいし、の重要なタスクを再開するユーザーを支援するアプリのアクティビティを定義します。</span><span class="sxs-lookup"><span data-stu-id="9fec9-148">See the [activity resource](https://developer.microsoft.com/graph/docs/api-reference/v1.0/resources/projectrome_activity) and define your app's activities to help users resume important tasks.</span></span>
- <span data-ttu-id="9fec9-149">活動**pop**にするアイデアの[アダプティブ ・ カードのサンプル](https://adaptivecards.io/samples/)のサンプルを表示します。</span><span class="sxs-lookup"><span data-stu-id="9fec9-149">Explore the [adaptive card samples](https://adaptivecards.io/samples/) samples for ideas to make your activities **pop**.</span></span>  
- <span data-ttu-id="9fec9-150">
  [Graph エクスプローラー](https://developer.microsoft.com/graph/graph-explorer)で API をお試しください。</span><span class="sxs-lookup"><span data-stu-id="9fec9-150">Try the API in the [Graph Explorer](https://developer.microsoft.com/graph/graph-explorer).</span></span>

<span data-ttu-id="9fec9-151">**詳細については調べていますか。**</span><span class="sxs-lookup"><span data-stu-id="9fec9-151">**Looking for more ideas?**</span></span> 

- <span data-ttu-id="9fec9-152">[アクティビティを使用しているマイクロソフトの経験](https://channel9.msdn.com/events/Build/2017/B8108)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="9fec9-152">See [how Microsoft experiences are using activities](https://channel9.msdn.com/events/Build/2017/B8108).</span></span>
- <span data-ttu-id="9fec9-153">[アクティビティ フィードの API と中断した場所を選択](https://channel9.msdn.com/Events/Windows/Windows-Developer-Day-Fall-Creators-Update/WinDev011)について説明します。</span><span class="sxs-lookup"><span data-stu-id="9fec9-153">Learn about [the activity feed API and pick up where I left off](https://channel9.msdn.com/Events/Windows/Windows-Developer-Day-Fall-Creators-Update/WinDev011).</span></span>
